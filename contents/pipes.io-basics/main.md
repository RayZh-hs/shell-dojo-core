
在这个章节中, 我们会简单接触 Shell 中最有用的一项技术: 管道 (pipe) 技术.

而在学习管道之前, 我们需要了解一些常用的命令, 让我们可以做简单的文件/输入输出转发和文本处理.

---

## cat

之前我们讲到了可以使用文本编辑器打开一个文件, 并查看它的内容. 然而呢, 如果仅仅只是要看一眼文件的内容, 其实不必大动干戈, 而且有很多命令可以帮我们完成这件事情.

打印文件内容, 无非就是将文件输出到终端上; 最常用的命令是 `cat`.

`cat` 不是猫, `cat` 是 "concatenate files and print on the standard output" 的缩写, 中文翻译“将文件拼接并输出到标准输出”; 不过我们暂时可以把它理解成“把文件内容打印到屏幕上”. 

你可以这么使用:

```
# 查看单个文件内容
cat file1.txt

# 拼接文件内容
cat file1.txt file2.txt > combined.txt
```

---

## grep

当文件较短的时候, 直接用 `cat` 就能看清楚文件内容了. 但是如果文件很长, 比如系统日志, 你可能就需要一些更高级的工具来帮你分页、过滤和查找你想要的信息. 

> 查看超长文件时, 建议先用 `less file` 分页查看, 或者 `head`/`tail` 抽样; 直接 `cat` 可能会刷屏. 我们不要求你掌握他们, 留个印象知道他们的存在即可. 

我们可以使用 `nano` 这种文本编辑器来打开文件, 然后用搜索功能查找关键词, 但是这种办法是交互式的, 也就是说没有办法“自动化”. 所以我们就需要一个可脚本化的关键词查询命令, 也就是 `grep`. 

---

`grep` 的名字来源于上古时期的文本编辑器 `ed` 中的命令 `g/re/p` (globally search a regular expression and print). 所以它的工作就是查找匹配所有满足条件的行并把它们打印出来. 语法是先加待搜索的单词, 再跟上文件名, 比如:

```bash
$ cat file.txt
Hello World!
Hello grep!
Hello cat!
$ grep "grep" file.txt
Hello grep!
```

---

`grep` 还有一些常用的选项, 比如:

```
# 查找文件中包含 "error" 的行
grep "error" logfile.txt

# 忽略大小写匹配
grep -i "error" logfile.txt

# 显示匹配的次数
grep -c "error" logfile.txt
```

其实 `cat`, `grep` 本身与重定向没有太大的关系; 但是它的模式匹配与筛选作用是无可替代的. 等我们学习了重定向和管道之后, 它们的作用就能发挥得淋漓尽致了. 

> 在字符串搜索上, Shell 有个更加强大的工具 `awk` 和 `sed`, 但是使用方式比较复杂. 日常使用不妨使用 `python` (
